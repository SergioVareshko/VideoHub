var filmInfo = {
    "ID": "HO00000241",
    "shortCode": "",
    "title": "ПОЛІНА І ТАЄМНИЦЯ КІНОСТУДІЇ",
    "rating": "0+",
    "ratingDescription": "",
    "synopsis": "Одинадцятирічна дівчинка Поліна ніколи не бачила своїх батьків. Вона нічого не знає про своє минуле та повинна жити не з найкращого тітонькою та двоюрідним братом. Це єдині рідні люди, які у неї є. Тільки ось вони багато приховують від дівчинки – наприклад, те, що в неї є магічні здібності. Або те, що вони хочуть від Поліни незабаром позбутися, щоб отримати чарівну кіностудію \"Сінема\". Чим же вона така особлива? А тим, що через неї можна потрапити до зовсім іншого світу – чарівного світу кіно, де живуть усі персонажі. Саме туди незабаром і потрапить Поліна, там вона зможе дізнатися історію її батьків. Потрібно вірити в диво, адже воно навколо нас.",
    "shortSynopsis": "",
    "HOFilmCode": "F000000292",
    "CorporateFilmId": "",
    "runTime": 95,
    "openingDate": "2019-08-22T00:00:00",
    "graphicUrl": "",
    "filmNameUrl": "2019",
    "trailerUrl": "https://youtu.be/TunAEgogHNk",
    "additionalUrls": [],
    "isComingSoon": true,
    "isScheduledAtCinema": false,
    "titleAlt": "Поліна і таємниця кіностудії",
    "ratingAlt": "0",
    "ratingDescriptionAlt": "",
    "synopsisAlt": "Україна, Франція, Бельгія",
    "shortSynopsisAlt": "Wild Tribe Films, Kinorob",
    "websiteUrl": "",
    "genreId": "0000000001",
    "eDICode": null,
    "twitterTag": "українська",
    "titleTranslations": [],
    "synopsisTranslations": [],
    "shortSynopsisTranslations": [],
    "ratingDescriptionTranslations": [],
    "customerRatingStatistics": {
     "ratingCount": 0,
     "averageScore": null
    },
    "customerRatingTrailerStatistics": {
     "ratingCount": 1,
     "ratingCountLiked": 0
    },
    "filmWebId": ""
   }

   var filmInfo1 = {
    "ID": "HO00000243",
    "shortCode": "",
    "title": "ПОЛІНА І ТАЄМНИЦЯ КІНОСТУДІЇ",
    "rating": "0+",
    "ratingDescription": "",
    "synopsis": "Одинадцятирічна дівчинка Поліна ніколи не бачила своїх батьків. Вона нічого не знає про своє минуле та повинна жити не з найкращого тітонькою та двоюрідним братом. Це єдині рідні люди, які у неї є. Тільки ось вони багато приховують від дівчинки – наприклад, те, що в неї є магічні здібності. Або те, що вони хочуть від Поліни незабаром позбутися, щоб отримати чарівну кіностудію \"Сінема\". Чим же вона така особлива? А тим, що через неї можна потрапити до зовсім іншого світу – чарівного світу кіно, де живуть усі персонажі. Саме туди незабаром і потрапить Поліна, там вона зможе дізнатися історію її батьків. Потрібно вірити в диво, адже воно навколо нас.",
    "shortSynopsis": "",
    "HOFilmCode": "F000000292",
    "CorporateFilmId": "",
    "runTime": 95,
    "openingDate": "2019-08-22T00:00:00",
    "graphicUrl": "",
    "filmNameUrl": "2019",
    "trailerUrl": "https://youtu.be/TunAEgogHNk",
    "additionalUrls": [],
    "isComingSoon": true,
    "isScheduledAtCinema": false,
    "titleAlt": "Поліна і таємниця кіностудії",
    "ratingAlt": "1",
    "ratingDescriptionAlt": "",
    "synopsisAlt": "Україна, Франція, Бельгія",
    "shortSynopsisAlt": "Wild Tribe Films, Kinorob",
    "websiteUrl": "",
    "genreId": "0000000002",
    "eDICode": null,
    "twitterTag": "українська",
    "titleTranslations": [],
    "synopsisTranslations": [],
    "shortSynopsisTranslations": [],
    "ratingDescriptionTranslations": [],
    "customerRatingStatistics": {
     "ratingCount": 0,
     "averageScore": null
    },
    "customerRatingTrailerStatistics": {
     "ratingCount": 2,
     "ratingCountLiked": 0
    },
    "filmWebId": ""
   }

   var filmInfo2 = {
    "ID": "HO00000242",
    "shortCode": "",
    "title": "ПОЛІНА І ТАЄМНИЦЯ КІНОСТУДІЇ",
    "rating": "0+",
    "ratingDescription": "",
    "synopsis": "Одинадцятирічна дівчинка Поліна ніколи не бачила своїх батьків. Вона нічого не знає про своє минуле та повинна жити не з найкращого тітонькою та двоюрідним братом. Це єдині рідні люди, які у неї є. Тільки ось вони багато приховують від дівчинки – наприклад, те, що в неї є магічні здібності. Або те, що вони хочуть від Поліни незабаром позбутися, щоб отримати чарівну кіностудію \"Сінема\". Чим же вона така особлива? А тим, що через неї можна потрапити до зовсім іншого світу – чарівного світу кіно, де живуть усі персонажі. Саме туди незабаром і потрапить Поліна, там вона зможе дізнатися історію її батьків. Потрібно вірити в диво, адже воно навколо нас.",
    "shortSynopsis": "",
    "HOFilmCode": "F000000292",
    "CorporateFilmId": "",
    "runTime": 95,
    "openingDate": "2019-08-22T00:00:00",
    "graphicUrl": "",
    "filmNameUrl": "2019",
    "trailerUrl": "https://youtu.be/TunAEgogHNk",
    "additionalUrls": [],
    "isComingSoon": true,
    "isScheduledAtCinema": false,
    "titleAlt": "Поліна і таємниця кіностудії",
    "ratingAlt": "0+",
    "ratingDescriptionAlt": "",
    "synopsisAlt": "Україна, Франція, Бельгія",
    "shortSynopsisAlt": "Wild Tribe Films, Kinorob",
    "websiteUrl": "",
    "genreId": "0000000002",
    "eDICode": null,
    "twitterTag": "українська",
    "titleTranslations": [],
    "synopsisTranslations": [],
    "shortSynopsisTranslations": [],
    "ratingDescriptionTranslations": [],
    "customerRatingStatistics": {
     "ratingCount": 0,
     "averageScore": null
    },
    "customerRatingTrailerStatistics": {
     "ratingCount": 3,
     "ratingCountLiked": 0
    },
    "filmWebId": ""
   }


function Movie(options) {
    this.ID = options.ID;
    this.shortCode = options.shortCode;
    this.title = options.title;
    this.rating = options.rating;
    this.synopsis = options.synopsis;
    this.shortSynopsis = options.shortSynopsis;
    this.HOFilmCode = options.HOFilmCode;
    this.runTime = options.runTime;
    this.openingDate = options.openingDate;
    this.graphicUrl = options.graphicUrl;
    this.filmNameUrl = options.filmNameUrl;
    this.trailerUrl = options.trailerUrl;
    this.isComingSoon = options.isComingSoon;
    this.isScheduledAtCinema = options.isScheduledAtCinema;
    this.titleAlt = options.titleAlt;
    this.ratingAlt = options.ratingAlt;
    this.synopsisAlt = options.synopsisAlt;
    this.genreId = options.genreId;
    this.twitterTag = options.twitterTag;
    this.customerRatingStatistics= options.customerRatingStatistics;
    this.customerRatingTrailerStatistics = options.customerRatingTrailerStatistics;
}

Movie.prototype = {
    getcustomerRatingStatistics: function () {
        return  options.customerRatingStatistics;
    },

    editData:  function (data) {
        for (var prop in data)  {
            this[prop] = data[prop]
        }
        return this;
    },

    deleteData : function (data) {
        for (var prop in data)  {
            this[prop] = null
        }
        return this;
    }
}

function MovieList(arr) {
    var IsArray = arr instanceof Array;
    this.movies = [];
    if (!IsArray) {
        return;
    }
    //переписать на мап
    for  (i =0; i < arr.length; i++){
        var item = new Movie(arr[i]);
        this.movies.push(item);
    }
}

MovieList.prototype = {
    findItemById : function (Id) {
        let movie = this.movies.find(item => item.ID == Id);
        return movie; 
        
    },
    getItemsByGanre :  function(ganreId) {
        let movies = this.movies.filter(item => item.genreId === ganreId) ;
        return movies;
    },

    deleteItemById : function (Id) {
        let deleteitem = this.findItemById(Id);
        let newarr = this.movies.filter(item => item != deleteitem);
        return newarr;
    },

    editItems : function (Id, data){
        let item = this.findItemById(Id);
        if (item) {
            for (var prop in data)  {
                item[prop] = data[prop]
            }
        }
        return item;
    },

    addItem : function(data) {
        let newItem = new Movie(data);
        this.movies.push(newItem);
        return this.movies;
    }
}

var filmOne = new Movie(filmInfo);
var editFilm = filmOne.editData({"rating": '4'});

var arrOfFillm = [filmInfo, filmInfo1, filmInfo2];

var films = new MovieList(arrOfFillm);
var editFilm = films.editItems('HO00000242', {"shortCode" : 22})
var newFilm = {"ID" : '22',
                "Title": 'Ninja'}
var newcollectionOfFilms = films.addItem(newFilm);

var collectionWithOutComedy = films.deleteItemById('22');
//var comedy = films.getItemsByGanre('0000000002');

